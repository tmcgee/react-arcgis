!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("react-arcgis",["react"],t):"object"==typeof exports?exports["react-arcgis"]=t(require("react")):e["react-arcgis"]=t(e.React)}(window,function(e){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(t,r){t.exports=e},function(e,t,r){!function(e){"use strict";var t="4.12";function r(e){var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function o(e){return void 0===e&&(e=t),"https://js.arcgis.com/"+e+"/"}function n(e){return!e||r(e)?function(e){void 0===e&&(e=t);var n=o(e),i=r(e);if(3===i.major){var a=i.minor<=10?"js/":"";return""+n+a+"esri/css/esri.css"}return n+"esri/css/main.css"}(e):e}function i(e,t){var r=n(e),o=function(e){return document.querySelector('link[href*="'+e+'"]')}(r);return o||function(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}(o=function(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}(r),t),o}var a={Promise:"undefined"!=typeof window?window.Promise:void 0};function s(e,t,r){var o;r&&(o=function(e,t){var r=function(o){t(o.error||new Error("There was an error attempting to load "+e.src)),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}(e,r));var n=function(){t(e),e.removeEventListener("load",n,!1),o&&e.removeEventListener("error",o,!1)};e.addEventListener("load",n,!1)}function p(){return document.querySelector("script[data-esri-loader]")}function c(){var e=window.require;return e&&e.on}function l(e){void 0===e&&(e={});var t=e.version,r=e.url||o(t);return new a.Promise(function(o,n){var a=p();if(a){var l=a.getAttribute("src");l!==r?n(new Error("The ArcGIS API for JavaScript is already loaded ("+l+").")):c()?o(a):s(a,o,n)}else if(c())n(new Error("The ArcGIS API for JavaScript is already loaded."));else{var u=e.css;if(u){var y=!0===u;i(y?t:u,e.insertCssBefore)}e.dojoConfig&&(window.dojoConfig=e.dojoConfig),s(a=function(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}(r),function(){a.setAttribute("data-esri-loader","loaded"),o(a)},n),document.body.appendChild(a)}})}function u(e){return new a.Promise(function(t,r){var o=window.require.on("error",r);window.require(e,function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];o.remove(),t(e)})})}function y(e,t){if(void 0===t&&(t={}),c())return u(e);var r=p(),o=r&&r.getAttribute("src");return!t.url&&o&&(t.url=o),l(t).then(function(){return u(e)})}var d={getScript:p,isLoaded:c,loadModules:y,loadScript:l,loadCss:i,utils:a};e.getScript=p,e.isLoaded=c,e.loadModules=y,e.loadScript=l,e.loadCss=i,e.utils=a,e.default=d,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,r){e.exports=r(3)},function(e,t,r){"use strict";r.r(t);var o={};r.r(o),r.d(o,"Circle",function(){return L}),r.d(o,"Extent",function(){return E}),r.d(o,"Multipoint",function(){return S}),r.d(o,"Point",function(){return O}),r.d(o,"Polygon",function(){return M}),r.d(o,"Polyline",function(){return j}),r.d(o,"ScreenPoint",function(){return T}),r.d(o,"SpatialReference",function(){return U});var n={};r.r(n),r.d(n,"CSVLayer",function(){return R}),r.d(n,"ElevationLayer",function(){return x}),r.d(n,"FeatureLayer",function(){return I}),r.d(n,"GeoRSSLayer",function(){return V}),r.d(n,"GraphicsLayer",function(){return N}),r.d(n,"GroupLayer",function(){return q}),r.d(n,"ImageryLayer",function(){return B}),r.d(n,"IntegratedMeshLayer",function(){return z}),r.d(n,"MapImageLayer",function(){return H}),r.d(n,"OpenStreetMapLayer",function(){return J}),r.d(n,"PointCloudLayer",function(){return K}),r.d(n,"SceneLayer",function(){return Z}),r.d(n,"StreamLayer",function(){return Q}),r.d(n,"TileLayer",function(){return X}),r.d(n,"VectorTileLayer",function(){return Y}),r.d(n,"WebTileLayer",function(){return $});var i={};r.r(i),r.d(i,"Font",function(){return ae}),r.d(i,"PictureFillSymbol",function(){return se}),r.d(i,"PictureMarkerSymbol",function(){return pe}),r.d(i,"SimpleFillSymbol",function(){return ce}),r.d(i,"SimpleLineSymbol",function(){return le}),r.d(i,"SimpleMarkerSymbol",function(){return ue});var a={};r.r(a),r.d(a,"Attribution",function(){return he}),r.d(a,"BasemapGallery",function(){return we}),r.d(a,"BasemapToggle",function(){return ve}),r.d(a,"ColorSlider",function(){return ge}),r.d(a,"Compass",function(){return Pe}),r.d(a,"Expand",function(){return be}),r.d(a,"Home",function(){return We}),r.d(a,"LayerList",function(){return Fe}),r.d(a,"Legend",function(){return Le}),r.d(a,"Locate",function(){return Ee}),r.d(a,"NavigationToggle",function(){return Se}),r.d(a,"Popup",function(){return Oe}),r.d(a,"Print",function(){return Me}),r.d(a,"ScaleBar",function(){return je}),r.d(a,"Search",function(){return Te}),r.d(a,"SizeSlider",function(){return Ue}),r.d(a,"Track",function(){return _e}),r.d(a,"Zoom",function(){return Ce});var s,p=r(0),c=r(1),l=(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),u=function(e){function t(t){return e.call(this,t)||this}return l(t,e),t.prototype.render=function(){return p.createElement("div",{id:this.props.id,style:this.props.style})},t.prototype.shouldComponentUpdate=function(){return!1},t}(p.Component),y=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),d=function(){return(d=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},f=function(e){function t(t){var r=e.call(this,t)||this;return r.state={mapContainerId:Math.random().toString(36).substring(0,14),status:"loading"},r}return y(t,e),t.prototype.render=function(){var e=this,t={left:"50%",marginRight:"-50%",position:"absolute",top:"50%",transform:"translate(-50%, -50%)"},r=this.props.className?this.props.style:d({height:"100%",position:"relative",width:"100%"},this.props.style),o=this.props.loadElement?this.props.loadElement:p.createElement("h3",{id:"react-arcgis-loading-text"},"Loading..."),n=this.props.failElement?this.props.failElement:p.createElement("h3",{id:"react-arcgis-fail-text"},"The ArcGIS API failed to load.");if("loaded"===this.state.status){if(this.props.childrenAsFunction)return this.props.childrenAsFunction(this.state.map,this.state.view);var i=p.Children.map(this.props.children,function(t){var r=t;return p.cloneElement(r,{map:e.state.map,view:e.state.view})});return p.createElement("div",{id:"base-container",style:r,className:this.props.className},p.createElement(u,{id:this.state.mapContainerId,style:{width:"100%",height:"100%"}}),i)}return"loading"===this.state.status?p.createElement("div",{id:"base-container",style:r,className:this.props.className},p.createElement(u,{id:this.state.mapContainerId,style:{width:"100%",height:"100%"}}),p.createElement("div",{style:t},o)):p.createElement("div",{id:"base-container",style:r,className:this.props.className},p.createElement(u,{id:this.state.mapContainerId,style:{width:"100%",height:"100%"}}),p.createElement("div",{style:t},n))},t.prototype.componentDidMount=function(){var e=this;Object(c.loadModules)(this.props.scriptUri,this.props.loaderOptions).then(function(t){return e.props.loadMap(t,e.state.mapContainerId).then(function(t){var r=t.map,o=t.view;e.setState({map:r,view:o,status:"loaded"}),e.props.onLoad&&e.props.onLoad(r,o)}).catch(function(e){throw e})}).catch(function(t){e.setState({status:"failed"}),e.props.onFail&&e.props.onFail(t)})},t}(p.Component),m=function(){return(m=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},h={onClick:"click",onDoubleClick:"double-click",onDrag:"drag",onHold:"hold",onKeyDown:"key-down",onKeyUp:"key-up",onLayerViewCreate:"layerview-create",onLayerViewDestroy:"layerview-destroy",onMouseWheel:"mouse-wheel",onPointerDown:"pointer-down",onPointerMove:"pointer-move",onPointerUp:"pointer-up",onResize:"resize"},w=function(e){return p.createElement(f,m({},e,{loadMap:function(t,r){var o=t[0],n=t[1];return new Promise(function(t,i){try{var a=new o(e.mapProperties),s=m({map:a,container:r},e.viewProperties),p=new n(s),c=p;Object.keys(h).forEach(function(t){e[t]&&c.on(h[t],e[t])}),p.when(function(){t({map:a,view:p})},function(e){i(e)})}catch(e){i(e)}})}}))},v=function(e){return p.createElement(f,m({},e,{loadMap:function(t,r){var o=t[0],n=t[1],i=t[2];return new Promise(function(t,a){try{var s=new o(m({portalItem:{id:e.id}},e.mapProperties));s.load().then(function(){return s.basemap.load()}).then(function(){var e=s.allLayers.map(function(e){return e.load()});return i(e.toArray())}).then(function(o){var i=new n(m({container:r,map:s},e.viewProperties));Object.keys(h).forEach(function(t){e[t]&&i.on(h[t],e[t])}),t({map:s,view:i})}).otherwise(function(e){a(e)})}catch(e){a(e)}})}}))},g=function(){return(g=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},P=function(){return(P=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},b=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),W=function(e){function t(t){var r=e.call(this,t)||this;return r.state={graphic:r.props.graphic,instance:void 0,scriptUri:r.props.scriptUri},r.createGeometry=r.createGeometry.bind(r),r}return b(t,e),t.prototype.render=function(){return null},t.prototype.componentDidMount=function(){var e=this;Object(c.loadModules)([this.props.scriptUri]).then(function(t){var r=t[0];e.createGeometry(r),e.props.onLoad&&e.state.instance&&e.props.onLoad(e.state.instance)}).catch(function(t){e.props.onFail&&e.props.onFail(t)})},t.prototype.componentWillReceiveProps=function(e){var t=this;"oneWay"===this.props.dataFlow&&this.state.instance&&e.geometryProperties&&Object.keys(e.geometryProperties).forEach(function(r){t.state.instance&&e&&e.geometryProperties&&t.state.instance.get(r)!=e.geometryProperties[r]&&t.state.instance.set(r,e.geometryProperties[r])})},t.prototype.createGeometry=function(e){var t=new e(this.props.geometryProperties);this.setState({instance:t}),this.props.registerGeometry&&this.props.registerGeometry(t)},t}(p.Component),F=function(){return(F=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},L=function(e){return p.createElement(W,F({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/geometry/Circle",geometryProperties:F({},e.geometryProperties)}))},E=function(e){return p.createElement(W,F({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/geometry/Extent",geometryProperties:F({},e.geometryProperties)}))},S=function(e){return p.createElement(W,F({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/geometry/Multipoint",geometryProperties:F({},e.geometryProperties)}))},O=function(e){return p.createElement(W,F({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/geometry/Point",geometryProperties:F({},e.geometryProperties)}))},M=function(e){return p.createElement(W,F({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/geometry/Polygon",geometryProperties:F({},e.geometryProperties)}))},j=function(e){return p.createElement(W,F({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/geometry/Polyline",geometryProperties:F({},e.geometryProperties)}))},T=function(e){return p.createElement(W,F({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/geometry/ScreenPoint",geometryProperties:F({},e.geometryProperties)}))},U=function(e){return p.createElement(W,F({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/geometry/SpatialReference",geometryProperties:F({},e.geometryProperties)}))},_=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),C=function(){return(C=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},G=function(e){function t(t){var r=e.call(this,t)||this;return r.state={constructor:void 0,layer:r.props.layer,map:r.props.map,view:r.props.view},r.renderGraphic=r.renderGraphic.bind(r),r.registerSymbol=r.registerSymbol.bind(r),r.registerGeometry=r.registerGeometry.bind(r),r}return _(t,e),t.prototype.render=function(){var e=this,t=p.Children.map(this.props.children,function(t){var r=t;return r?p.cloneElement(r,{registerGeometry:e.registerGeometry,registerSymbol:e.registerSymbol}):null});return p.createElement("div",null,t)},t.prototype.removeGraphic=function(){this.state.instance&&(this.state.layer&&void 0!==this.state.layer.graphics?this.state.layer.graphics.remove(this.state.instance):this.state.layer&&void 0!==this.state.layer.source?this.state.layer.applyEdits({deleteFeatures:[this.state.instance]}).catch(function(e){console.error("[ Graphic.removeGraphic applyEdits ] ERROR: ",e)}):this.state.view&&this.state.view.graphics.remove(this.state.instance),this.state.instance.destroy()),this.setState({instance:void 0})},t.prototype.renderGraphic=function(e){void 0===e&&(e={});var t=C({},this.state,e);if(this.setState(t),t.constructor&&t.geometry){t.instance&&this.state.layer&&void 0===this.state.layer.applyEdits&&this.removeGraphic();var r=new t.constructor(C({geometry:t.geometry,symbol:t.symbol,layer:this.state.layer},this.props.graphicProperties));this.setState({instance:r}),this.state.layer&&void 0!==this.state.layer.graphics?this.state.layer.graphics.add(r,this.props.index):this.state.layer&&void 0!==this.state.layer.applyEdits?this.state.layer.applyEdits({addFeatures:t.instance?[]:[r],updateFeatures:t.instance?[r]:[]}).catch(function(e){console.error("[ Graphic.renderGraphic applyEdits ] ERROR: ",e)}):this.state.view&&this.state.view.graphics.add(r,this.props.index),this.props.onLoad&&this.props.onLoad(r)}},t.prototype.componentDidMount=function(){var e=this;Object(c.loadModules)(["esri/Graphic"]).then(function(t){var r=t[0];e.renderGraphic({constructor:r})}).catch(function(t){e.props.onFail&&e.props.onFail(t)})},t.prototype.componentWillUnmount=function(){this.removeGraphic()},t.prototype.componentWillReceiveProps=function(e){var t=this;if(e.graphicProperties&&"oneWay"===this.props.dataFlow){var r=!1;Object.keys(e.graphicProperties).forEach(function(o){t.props.graphicProperties&&e.graphicProperties&&t.props.graphicProperties[o]!==e.graphicProperties[o]&&("index"===o?t.renderGraphic():(t.state.instance&&t.state.instance.set(o,e.graphicProperties[o]),r=!0))}),r&&this.state.layer&&void 0!==this.state.layer.applyEdits&&this.state.layer.applyEdits({updateFeatures:this.state.instance?[this.state.instance]:[]}).catch(function(e){console.error("[ Graphic.componentWillReceiveProps applyEdits ] ERROR: ",e)})}},t.prototype.registerSymbol=function(e){this.renderGraphic({symbol:e})},t.prototype.registerGeometry=function(e){this.renderGraphic({geometry:e})},t}(p.Component),D=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),k=function(e){function t(t){var r=e.call(this,t)||this;return r.state={map:r.props.map,scriptUri:r.props.scriptUri,status:"loading",view:r.props.view},r.renderLayer=r.renderLayer.bind(r),r}return D(t,e),t.prototype.render=function(){var e=this;if("loaded"===this.state.status){var t=p.Children.map(this.props.children,function(t){var r=t;return p.cloneElement(r,{layer:e.state.instance})});return p.createElement("div",null,t)}return null},t.prototype.componentWillUnmount=function(){this.state.map&&this.state.instance&&this.state.map.remove(this.state.instance)},t.prototype.componentDidMount=function(){var e=this;Object(c.loadModules)([this.props.scriptUri]).then(function(t){var r=t[0];e.renderLayer(r),e.setState({status:"loaded"}),e.props.onLoad&&e.state.instance&&e.props.onLoad(e.state.instance)}).catch(function(t){e.setState({status:"failed"}),e.props.onFail&&e.props.onFail(t)})},t.prototype.componentWillReceiveProps=function(e){var t=this;"oneWay"===this.props.dataFlow&&this.state.instance&&e.layerProperties&&Object.keys(e.layerProperties).forEach(function(r){t.props.layerProperties&&t.state.instance&&e&&e.layerProperties&&t.props.layerProperties[r]!==e.layerProperties[r]&&t.state.instance.set(r,e.layerProperties[r])})},t.prototype.renderLayer=function(e){var t=this,r=new e(this.props.layerProperties);Object.keys(this.props.eventMap).forEach(function(e){t.props[e]&&r.on(t.props.eventMap[e],t.props[e])}),this.setState({instance:r}),this.props.addLocation.reduce(function(e,t){return e[t]},this.state).add(r,this.props.index)},t}(p.Component),A=function(){return(A=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},R=function(e){return p.createElement(k,A({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/layers/CSVLayer",layerProperties:A({},e.layerProperties),addLocation:["map"],eventMap:{onLayerviewCreate:"layerview-create",onLayerviewDestroy:"layerview-destroy"}}))},x=function(e){return p.createElement(k,A({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/layers/ElevationLayer",layerProperties:A({},e.layerProperties),addLocation:["map","ground","layers"],eventMap:{onLayerviewCreate:"layerview-create",onLayerviewDestroy:"layerview-destroy"}}))},I=function(e){return p.createElement(k,A({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/layers/FeatureLayer",layerProperties:A({},e.layerProperties),addLocation:["map"],eventMap:{onLayerviewCreate:"layerview-create",onLayerviewDestroy:"layerview-destroy"}}))},V=function(e){return p.createElement(k,A({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/layers/GeoRSSLayer",layerProperties:A({},e.layerProperties),addLocation:["map"],eventMap:{onLayerviewCreate:"layerview-create",onLayerviewDestroy:"layerview-destroy"}}))},N=function(e){return p.createElement(k,A({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/layers/GraphicsLayer",layerProperties:A({},e.layerProperties),addLocation:["map"],eventMap:{onLayerviewCreate:"layerview-create",onLayerviewDestroy:"layerview-destroy"}}))},q=function(e){return p.createElement(k,A({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/layers/GroupLayer",layerProperties:A({},e.layerProperties),addLocation:["map"],eventMap:{onLayerviewCreate:"layerview-create",onLayerviewDestroy:"layerview-destroy"}}))},B=function(e){return p.createElement(k,A({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/layers/ImageryLayer",layerProperties:A({},e.layerProperties),addLocation:["map"],eventMap:{onLayerviewCreate:"layerview-create",onLayerviewDestroy:"layerview-destroy"}}))},z=function(e){return p.createElement(k,A({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/layers/IntegratedMeshLayer",layerProperties:A({},e.layerProperties),addLocation:["map"],eventMap:{onLayerviewCreate:"layerview-create",onLayerviewDestroy:"layerview-destroy"}}))},H=function(e){return p.createElement(k,A({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/layers/MapImageLayer",layerProperties:A({},e.layerProperties),addLocation:["map"],eventMap:{onLayerviewCreate:"layerview-create",onLayerviewDestroy:"layerview-destroy"}}))},J=function(e){return p.createElement(k,A({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/layers/OpenStreetMapLayer",addLocation:["map"],eventMap:{onLayerviewCreate:"layerview-create",onLayerviewDestroy:"layerview-destroy"}}))},K=function(e){return p.createElement(k,A({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/layers/PointCloudLayer",addLocation:["map"],eventMap:{onLayerviewCreate:"layerview-create",onLayerviewDestroy:"layerview-destroy"}}))},Z=function(e){return p.createElement(k,A({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/layers/SceneLayer",addLocation:["map"],eventMap:{onLayerviewCreate:"layerview-create",onLayerviewDestroy:"layerview-destroy"}}))},Q=function(e){return p.createElement(k,A({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/layers/StreamLayer",addLocation:["map"],eventMap:{onLayerviewCreate:"layerview-create",onLayerviewDestroy:"layerview-destroy"}}))},X=function(e){return p.createElement(k,A({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/layers/TileLayer",addLocation:["map"],eventMap:{onLayerviewCreate:"layerview-create",onLayerviewDestroy:"layerview-destroy"}}))},Y=function(e){return p.createElement(k,A({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/layers/VectorTileLayer",addLocation:["map"],eventMap:{onLayerviewCreate:"layerview-create",onLayerviewDestroy:"layerview-destroy"}}))},$=function(e){return p.createElement(k,A({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/layers/WebTileLayer",addLocation:["map"],eventMap:{onLayerviewCreate:"layerview-create",onLayerviewDestroy:"layerview-destroy"}}))},ee=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),te=function(){return(te=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},re=function(e){function t(t){var r=e.call(this,t)||this;return r.state={map:r.props.map,mounted:!1,view:r.props.view},r}return ee(t,e),t.prototype.render=function(){var e=this;return this.props.children?p.createElement("div",null,p.createElement("div",{ref:function(t){t&&(e.content=t)}},this.props.children)):null},t.prototype.componentDidMount=function(){if(this.props.popupProperties){var e=te({content:this.content},this.props.popupProperties);this.state.view&&(this.state.view.popup.open(e),this.props.onTriggerAction&&this.state.view.popup.on("trigger-action",this.props.onTriggerAction)),this.setState({mounted:!0})}else console.warn("React-arcgis attempted to display a popup without any content. Please include popupProperties in order to see the popup.")},t.prototype.componentWillUnmount=function(){this.state.mounted&&(this.state.view&&this.state.view.popup.close(),this.setState({mounted:!1}))},t.prototype.componentWillReceiveProps=function(e){e.popupProperties&&this.state.mounted&&e.popupProperties!==this.props.popupProperties&&this.state.view&&(this.state.view.popup.close(),this.state.view.popup.open(e.popupProperties))},t}(p.Component),oe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ne=function(e){function t(t){var r=e.call(this,t)||this;return r.state={graphic:r.props.graphic,instance:void 0,scriptUri:r.props.scriptUri},r.createSymbol=r.createSymbol.bind(r),r}return oe(t,e),t.prototype.render=function(){return null},t.prototype.componentDidMount=function(){var e=this;Object(c.loadModules)([this.props.scriptUri]).then(function(t){var r=t[0];e.createSymbol(r),e.props.onLoad&&e.state.instance&&e.props.onLoad(e.state.instance)}).catch(function(t){e.props.onFail&&e.props.onFail(t)})},t.prototype.componentWillUnmount=function(){this.state.instance&&(this.props.registerSymbol&&this.props.registerSymbol(),this.state.instance.destroy())},t.prototype.componentWillReceiveProps=function(e){var t=this,r=!1;"oneWay"===this.props.dataFlow&&this.state.instance&&e.symbolProperties&&Object.keys(e.symbolProperties).forEach(function(o){t.props.symbolProperties&&e.symbolProperties&&t.state.instance&&t.props.symbolProperties[o]!==e.symbolProperties[o]&&(t.state.instance.set(o,e.symbolProperties[o]),r=!0)}),r&&this.props.registerSymbol&&this.state.instance&&this.props.registerSymbol(this.state.instance)},t.prototype.createSymbol=function(e){var t=new e(this.props.symbolProperties);this.setState({instance:t}),this.props.registerSymbol&&this.props.registerSymbol(t)},t}(p.Component),ie=function(){return(ie=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},ae=function(e){return p.createElement(ne,ie({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/symbols/Font",symbolProperties:ie({},e.symbolProperties)}))},se=function(e){return p.createElement(ne,ie({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/symbols/PictureFillSymbol",symbolProperties:ie({},e.symbolProperties)}))},pe=function(e){return p.createElement(ne,ie({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/symbols/PictureMarkerSymbol",symbolProperties:ie({},e.symbolProperties)}))},ce=function(e){return p.createElement(ne,ie({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/symbols/SimpleFillSymbol",symbolProperties:ie({},e.symbolProperties)}))},le=function(e){return p.createElement(ne,ie({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/symbols/SimpleLineSymbol",symbolProperties:ie({},e.symbolProperties)}))},ue=function(e){return p.createElement(ne,ie({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/symbols/SimpleMarkerSymbol",symbolProperties:ie({},e.symbolProperties)}))},ye=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),de=function(){return(de=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},fe=function(e){function t(t){var r=e.call(this,t)||this;return r.state={instance:void 0,map:r.props.map,scriptUri:r.props.scriptUri,view:r.props.view},r.renderWidget=r.renderWidget.bind(r),r}return ye(t,e),t.prototype.render=function(){return null},t.prototype.componentDidMount=function(){var e=this;Object(c.loadModules)([this.props.scriptUri]).then(function(t){var r=t[0];e.renderWidget(r),e.props.onLoad&&e.state.instance&&e.props.onLoad(e.state.instance)}).catch(function(t){e.props.onFail&&e.props.onFail(t)})},t.prototype.componentWillUnmount=function(){this.state.view&&this.state.instance&&this.state.view.ui.remove(this.state.instance)},t.prototype.renderWidget=function(e){var t=this,r=de({view:this.state.view},this.props.widgetProperties),o=this.props.position?this.props.position:"manual",n=new e(r);Object.keys(this.props.eventMap).forEach(function(e){t.props[e]&&n.on(t.props.eventMap[e],t.props[e])}),this.setState({instance:n}),this.state.view&&this.state.view.ui.add(n,o)},t.prototype.componentWillReceiveProps=function(e){var t=this;e.widgetProperties&&Object.keys(e.widgetProperties).forEach(function(r){t.state.instance&&e.widgetProperties&&t.state.instance.get(r)!==e.widgetProperties[r]&&t.state.instance.set(r,e.widgetProperties[r])})},t}(p.Component),me=function(){return(me=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},he=function(e){return p.createElement(fe,me({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/widgets/Attribution",widgetProperties:me({},e.widgetProperties),eventMap:{}}))},we=function(e){return p.createElement(fe,me({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/widgets/BasemapGallery",widgetProperties:me({},e.widgetProperties),eventMap:{}}))},ve=function(e){return p.createElement(fe,me({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/widgets/BasemapToggle",widgetProperties:me({},e.widgetProperties),eventMap:{onToggle:"toggle"}}))},ge=function(e){return p.createElement(fe,me({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/widgets/ColorSlider",widgetProperties:me({},e.widgetProperties),eventMap:{onDataChange:"data-change",onDataValueChange:"data-value-change",onHandleValueChange:"handle-value-change"}}))},Pe=function(e){return p.createElement(fe,me({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/widgets/Compass",widgetProperties:me({},e.widgetProperties),eventMap:{}}))},be=function(e){return p.createElement(fe,me({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/widgets/Expand",widgetProperties:me({},e.widgetProperties),eventMap:{}}))},We=function(e){return p.createElement(fe,me({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/widgets/Home",widgetProperties:me({},e.widgetProperties),eventMap:{}}))},Fe=function(e){return p.createElement(fe,me({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/widgets/LayerList",widgetProperties:me({},e.widgetProperties),eventMap:{onTriggerAction:"trigger-action"}}))},Le=function(e){return p.createElement(fe,me({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/widgets/Legend",widgetProperties:me({},e.widgetProperties),eventMap:{}}))},Ee=function(e){return p.createElement(fe,me({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/widgets/Locate",widgetProperties:me({},e.widgetProperties),eventMap:{onLocate:"locate",onLocateError:"locate-error"}}))},Se=function(e){return p.createElement(fe,me({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/widgets/NavigationToggle",widgetProperties:me({},e.widgetProperties)}))},Oe=function(e){return p.createElement(fe,me({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/widgets/Popup",widgetProperties:me({},e.widgetProperties),eventMap:{onTriggerAction:"trigger-action"}}))},Me=function(e){return p.createElement(fe,me({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/widgets/Print",widgetProperties:me({},e.widgetProperties),eventMap:{}}))},je=function(e){return p.createElement(fe,me({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/widgets/ScaleBar",widgetProperties:me({},e.widgetProperties),eventMap:{}}))},Te=function(e){return p.createElement(fe,me({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/widgets/Search",widgetProperties:me({},e.widgetProperties),eventMap:{onSearchClear:"search-clear",onSearchComplete:"search-complete",onSearchStart:"search-start",onSelectResult:"select-result",onSuggestComplete:"suggest-complete",onSuggestStart:"suggest-start"}}))},Ue=function(e){return p.createElement(fe,me({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/widgets/SizeSlider",widgetProperties:me({},e.widgetProperties),eventMap:{onDataChange:"data-change",onDataValueChange:"data-value-change",onHandleValueChange:"handle-value-change"}}))},_e=function(e){return p.createElement(fe,me({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/widgets/Track",widgetProperties:me({},e.widgetProperties),eventMap:{onTrack:"track",onTrackError:"track-error"}}))},Ce=function(e){return p.createElement(fe,me({},e,{dataFlow:"oneWay"===e.dataFlow?"oneWay":"oneTime",scriptUri:"esri/widgets/Zoom",widgetProperties:me({},e.widgetProperties),eventMap:{}}))};r.d(t,"WebMap",function(){return De}),r.d(t,"WebScene",function(){return ke}),r.d(t,"Map",function(){return Ae}),r.d(t,"Scene",function(){return Re}),r.d(t,"Geometry",function(){return xe}),r.d(t,"Graphic",function(){return Ie}),r.d(t,"Layers",function(){return Ve}),r.d(t,"Popup",function(){return Ne}),r.d(t,"Symbols",function(){return qe}),r.d(t,"Widgets",function(){return Be}),r.d(t,"esriPromise",function(){return ze}),r.d(t,"loadModules",function(){return c.loadModules});var Ge={Map:function(e){return p.createElement(w,g({scriptUri:["esri/Map","esri/views/MapView"]},e,{mapProperties:g({basemap:"streets-vector"},e.mapProperties),viewProperties:g({center:[-122.4443,47.2529],zoom:6},e.viewProperties)}))},Scene:function(e){return p.createElement(w,g({scriptUri:["esri/Map","esri/views/SceneView"]},e,{mapProperties:g({basemap:"satellite",ground:"world-elevation"},e.mapProperties),viewProperties:g({center:[-122.4443,47.2529],zoom:6},e.viewProperties)}))},WebMap:function(e){return p.createElement(v,P({scriptUri:["esri/WebMap","esri/views/MapView","dojo/promise/all"]},e,{viewProperties:e.viewProperties,mapProperties:e.mapProperties}))},WebScene:function(e){return p.createElement(v,P({scriptUri:["esri/WebScene","esri/views/SceneView","dojo/promise/all"]},e,{viewProperties:e.viewProperties,mapProperties:e.mapProperties}))},Geometry:o,Graphic:G,Layers:n,Popup:re,Symbols:i,Widgets:a,esriPromise:c.loadModules},De=(t.default=Ge,Ge.WebMap),ke=Ge.WebScene,Ae=Ge.Map,Re=Ge.Scene,xe=Ge.Geometry,Ie=Ge.Graphic,Ve=Ge.Layers,Ne=Ge.Popup,qe=Ge.Symbols,Be=Ge.Widgets,ze=c.loadModules}])});
//# sourceMappingURL=index.js.map